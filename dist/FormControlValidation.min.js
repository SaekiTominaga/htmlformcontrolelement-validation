var t,e,i,s,a=this&&this.__classPrivateFieldSet||function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},n=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};export default class{constructor(h,d){t.set(this,void 0),e.set(this,void 0),i.set(this,void 0),s.set(this,void 0),a(this,t,h),a(this,e,d);const o=n(this,t).dataset.validationMessageFor;if(void 0===o)throw new Error("Attribute: `data-validation-message-for` is not set.");const r=document.getElementById(o);if(null===r)throw new Error(`Element: #${o} can not found.`);r.setAttribute("role","alert"),r.setAttribute("aria-live","assertive"),a(this,i,r);const v=n(this,t).dataset.validationMessagePattern;void 0!==v&&a(this,s,v);const l=this._changeEvent.bind(this),c=this._invalidEvent.bind(this);n(this,t).addEventListener("change",l,{passive:!0}),n(this,t).addEventListener("invalid",c)}_changeEvent(){if("radio"===n(this,t).type)for(const e of document.getElementsByName(n(this,t).name))this._clearMessage(e),e.validity.valid||e.dispatchEvent(new UIEvent("invalid"));else this._clearMessage(n(this,t)),n(this,t).validity.valid||n(this,t).dispatchEvent(new UIEvent("invalid"))}_invalidEvent(e){let i=n(this,t).validationMessage;const a=n(this,t).validity;a.valueMissing||a.patternMismatch&&void 0!==n(this,s)&&(i=n(this,s)),this._setMessage(n(this,t),i),e.preventDefault()}_setMessage(t,s){void 0!==n(this,e)&&t.classList.add(n(this,e)),t.setCustomValidity(s),n(this,i).hidden=!1,n(this,i).textContent=s}_clearMessage(t){void 0!==n(this,e)&&t.classList.remove(n(this,e)),t.setCustomValidity(""),n(this,i).hidden=!0,n(this,i).textContent=""}}t=new WeakMap,e=new WeakMap,i=new WeakMap,s=new WeakMap;
//# sourceMappingURL=FormControlValidation.min.js.map