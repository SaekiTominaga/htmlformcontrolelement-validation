var t,e,i,s,a,n,h=this&&this.__classPrivateFieldSet||function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},d=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};export default class{constructor(d,o){t.set(this,void 0),e.set(this,void 0),i.set(this,void 0),s.set(this,void 0),a.set(this,void 0),n.set(this,void 0),h(this,t,d),h(this,e,o),h(this,a,this._changeEvent.bind(this)),h(this,n,this._invalidEvent.bind(this))}init(){const e=d(this,t).dataset.validationMessageFor;if(void 0===e)throw new Error("Attribute: `data-validation-message-for` is not set.");const o=document.getElementById(e);if(null===o)throw new Error(`Element: #${e} can not found.`);o.setAttribute("role","alert"),o.setAttribute("aria-live","assertive"),h(this,i,o);const r=d(this,t).dataset.validationMessagePattern;void 0!==r&&h(this,s,r),d(this,t).addEventListener("change",d(this,a),{passive:!0}),d(this,t).addEventListener("invalid",d(this,n))}_changeEvent(){if("radio"===d(this,t).type)for(const e of document.getElementsByName(d(this,t).name))this._clearMessage(e),e.validity.valid||e.dispatchEvent(new UIEvent("invalid"));else this._clearMessage(d(this,t)),d(this,t).validity.valid||d(this,t).dispatchEvent(new UIEvent("invalid"))}_invalidEvent(e){let i=d(this,t).validationMessage;const a=d(this,t).validity;a.valueMissing||a.patternMismatch&&void 0!==d(this,s)&&(i=d(this,s)),this._setMessage(d(this,t),i),e.preventDefault()}_setMessage(t,s){void 0!==d(this,e)&&t.classList.add(d(this,e)),t.setCustomValidity(s),d(this,i).hidden=!1,d(this,i).textContent=s}_clearMessage(t){void 0!==d(this,e)&&t.classList.remove(d(this,e)),t.setCustomValidity(""),d(this,i).hidden=!0,d(this,i).textContent=""}}t=new WeakMap,e=new WeakMap,i=new WeakMap,s=new WeakMap,a=new WeakMap,n=new WeakMap;
//# sourceMappingURL=FormControlValidation.min.js.map