var t,e,i=this&&this.__classPrivateFieldSet||function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},s=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};import a from"../../isbn-verify/dist/ISBN.js";export default class n extends HTMLInputElement{constructor(){super(),t.set(this,void 0),e.set(this,void 0),i(this,e,this._formSubmitEvent.bind(this))}connectedCallback(){const a=this.dataset.validationMessageIsbnCheckdigit;if(void 0===a)throw new Error("Attribute: `data-validation-message-isbn-checkdigit` is not set.");i(this,t,a),this.type="text",this.minLength=10,this.maxLength=17,this.pattern="(978|979)-\\d{1,5}-\\d{1,7}-\\d{1,7}-\\d|\\d{13}|\\d{1,5}-\\d{1,7}-\\d{1,7}-[\\dX]|\\d{9}[\\dX]",this.addEventListener("change",this._changeEvent,{passive:!0}),this.form?.addEventListener("submit",s(this,e))}disconnectedCallback(){this.removeEventListener("change",this._changeEvent),this.form?.removeEventListener("submit",s(this,e))}_changeEvent(){this.validity.patternMismatch||(this._convertValue(),this._validate())}_formSubmitEvent(t){this._convertValue(),this._validate()||t.preventDefault()}_convertValue(){this.value=this.value.trim()}_validate(){return""===this.value||(new a(this.value).isValid()?(this._clearMessage(),!0):(this._setMessage(s(this,t)),!1))}_setMessage(t){this.setCustomValidity(t),this.dispatchEvent(new Event("invalid"))}_clearMessage(){this.setCustomValidity("")}}t=new WeakMap,e=new WeakMap;
//# sourceMappingURL=InputIsbn.min.js.map