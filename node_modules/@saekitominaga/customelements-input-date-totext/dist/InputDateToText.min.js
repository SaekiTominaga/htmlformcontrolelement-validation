var t,e,s,i,a,n,r=this&&this.__classPrivateFieldSet||function(t,e,s){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,s),s},h=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};export default class o extends HTMLInputElement{constructor(){super(),t.set(this,void 0),e.set(this,void 0),s.set(this,void 0),i.set(this,void 0),a.set(this,void 0),n.set(this,void 0),r(this,n,this._formSubmitEvent.bind(this))}connectedCallback(){const o=this.dataset.validationMessageDateNoexist;if(void 0===o)throw new Error("Attribute: `data-validation-message-date-noexist` is not set.");if(r(this,t,o),""!==this.min){const t=this.dataset.validationMessageDateMin;if(void 0===t)throw new Error("Attribute: `data-validation-message-date-min` is not set.");r(this,e,this.min),r(this,s,t),this.removeAttribute("min")}if(""!==this.max){const t=this.dataset.validationMessageDateMax;if(void 0===t)throw new Error("Attribute: `data-validation-message-date-max` is not set.");r(this,i,this.max),r(this,a,t),this.removeAttribute("max")}""!==this.step&&this.removeAttribute("step"),this.type="text",this.minLength=8,this.maxLength=10,this.pattern="([0-9０-９]{8})|([0-9０-９]{4}[-/－／][0-9０-９]{1,2}[-/－／][0-9０-９]{1,2})",this.placeholder="YYYY-MM-DD",this.addEventListener("change",this._changeEvent,{passive:!0}),this.form?.addEventListener("submit",h(this,n))}disconnectedCallback(){this.removeEventListener("change",this._changeEvent),this.form?.removeEventListener("submit",h(this,n))}_changeEvent(){this.validity.patternMismatch||(this._convertValue(),this._validate())}_formSubmitEvent(t){this._convertValue(),this._validate()||t.preventDefault()}_convertValue(){let t=this.value.trim();""!==t?(t=t.replace(/[０-９－／]/g,(t=>String.fromCharCode(t.charCodeAt(0)-65248))),t=/^[0-9]{8}$/.test(t)?`${t.substring(0,4)}-${t.substring(4,6)}-${t.substring(6)}`:t.replace(/\//g,"-").replace(/-([0-9])-/,"-0$1-").replace(/-([0-9])$/,"-0$1"),this.value=t):this.value=t}_validate(){if(""===this.value)return!0;const n=Number(this.value.substring(0,4)),r=Number(this.value.substring(5,7))-1,o=Number(this.value.substring(8,10)),u=new Date(n,r,o);return u.getFullYear()!==n||u.getMonth()!==r||u.getDate()!==o?(this._setMessage(h(this,t)),!1):void 0!==h(this,e)&&u<new Date(Number(h(this,e).substring(0,4)),Number(h(this,e).substring(5,7))-1,Number(h(this,e).substring(8,10)))?(this._setMessage(h(this,s)),!1):void 0!==h(this,i)&&u>new Date(Number(h(this,i).substring(0,4)),Number(h(this,i).substring(5,7))-1,Number(h(this,i).substring(8,10)))?(this._setMessage(h(this,a)),!1):(this._clearMessage(),!0)}_setMessage(t){this.setCustomValidity(t),this.dispatchEvent(new Event("invalid"))}_clearMessage(){this.setCustomValidity("")}}t=new WeakMap,e=new WeakMap,s=new WeakMap,i=new WeakMap,a=new WeakMap,n=new WeakMap;
//# sourceMappingURL=InputDateToText.min.js.map